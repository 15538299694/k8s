(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{228:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"pod控制器-daemonset"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pod控制器-daemonset"}},[t._v("#")]),t._v(" Pod控制器-DaemonSet")]),t._v(" "),a("p",[t._v("本章节给你带来第二个控制器："),a("code",[t._v("DaemonSet")]),t._v("的讲解。\n你将了解到：什么是"),a("code",[t._v("DaemonSet")]),t._v("，以及他的配置实战，最后我还引出了污点和容忍度的专有名词，如果你已经有了一定的基础，可以选择性地直接去阅读该章节（看个人）。")]),t._v(" "),a("ul",[a("li",[t._v("What is DaemonSet？")]),t._v(" "),a("li",[t._v("命令补充")]),t._v(" "),a("li",[t._v("实战配置")]),t._v(" "),a("li",[t._v("知识点补充")])]),t._v(" "),a("h2",{attrs:{id:"_1-what-is-daemonset？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-what-is-daemonset？"}},[t._v("#")]),t._v(" 1.What is DaemonSet？")]),t._v(" "),a("p",[a("code",[t._v("DaemonSet")]),t._v("是一个确保每个符合规则的"),a("code",[t._v("node")]),t._v("节点有且仅有一个"),a("code",[t._v("Pod")]),t._v("的控制器。你要注意以下两点：")]),t._v(" "),a("ul",[a("li",[t._v("1.新节点加入集群，也会新增一个"),a("code",[t._v("Pod")])]),t._v(" "),a("li",[t._v("2.当节点下线后，相应Pod也会被回收")])]),t._v(" "),a("h2",{attrs:{id:"_2-命令补充"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-命令补充"}},[t._v("#")]),t._v(" 2.命令补充")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#可以使用kubectl get ds查看DaemonSet")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@centos-1 mainfasts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#        kubectl get ds -A")]),t._v("\nNAMESPACE     NAME                      DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR                 AGE\nkube-system   kube-flannel-ds-amd64     "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("            "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("none"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("                        4d1h\nkube-system   kube-flannel-ds-arm       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("            "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("none"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("                        4d1h\nkube-system   kube-flannel-ds-arm64     "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("            "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("none"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("                        4d1h\nkube-system   kube-flannel-ds-ppc64le   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("            "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("none"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("                        4d1h\nkube-system   kube-flannel-ds-s390x     "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("            "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("none"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("                        4d1h\nkube-system   kube-proxy                "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("            "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("           beta.kubernetes.io/os"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("linux   4d1h\n\n")])])]),a("h2",{attrs:{id:"_3-实战配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-实战配置"}},[t._v("#")]),t._v(" 3.实战配置")]),t._v(" "),a("ol",[a("li",[t._v("编辑"),a("code",[t._v("filebeat-daemonset.yaml")]),t._v(",这里我们创建了一个"),a("code",[t._v("filebeat")]),t._v("的"),a("code",[t._v("daemonset")]),t._v("，他们会和日常需求一样，在每个客户端node节点部署一个filebeat的pod`容器。你要注意：")])]),t._v(" "),a("blockquote",[a("p",[t._v('我们这里使用了一个节点的选择器：logcollecting: "on"，节点上默认是没有这个标签的！')])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" apps/v1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" DaemonSet\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" filebeat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("ds\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" filebeat\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("selector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("matchLabels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" filebeat\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" filebeat\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" filebeat\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  prima/filebeat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("6.4.2\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" REDIS_HOST\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" db.ikubernetes.is"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6379")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" LOG_LEVEL\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" info\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nodeSelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#节点选择器")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("logcollecting")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"on"')]),t._v("               "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#自定义标签          ")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("使用"),a("code",[t._v("apply -f")]),t._v("载入"),a("code",[t._v("yaml")]),t._v("，并观察。可以发现，由于自定义标签的定义，没有符合的"),a("code",[t._v("node")]),t._v("节点，所以"),a("code",[t._v("pod")]),t._v("一个都没有生成！")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@centos-1 mainfasts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# kubectl apply -f filebeat-daemonset.yaml  ")]),t._v("\ndaemonset.apps/filebeat-ds created\n    \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@centos-1 mainfasts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# kubectl get pod")]),t._v("\nNAME                     READY   STATUS    RESTARTS   AGE\nngx-new-cb79d555-gqwf8   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("/1     Running   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("          29h\nngx-new-cb79d555-hcdr9   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("/1     Running   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("          30h\n    \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@centos-1 mainfasts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# kubectl get ds")]),t._v("\nNAME          DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR      AGE\nfilebeat-ds   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("            "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("logcollecting")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("on   8s\n\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("接下来，我们尝试给"),a("code",[t._v("node01")]),t._v("节点打上对应标签，发现"),a("code",[t._v("pod")]),t._v("已经开始调度至对应节点了")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@centos-1 mainfasts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# kubectl label node centos-2.shared logcollecting="on" --overwrite')]),t._v("\nnode/centos-2.shared labeled\n    \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@centos-1 mainfasts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# kubectl get pod")]),t._v("\nNAME                     READY   STATUS             RESTARTS   AGE\nfilebeat-ds-dlxwn        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("/1     CrashLoopBackOff   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("          5s\nngx-new-cb79d555-gqwf8   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("/1     Running            "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("          29h\nngx-new-cb79d555-hcdr9   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("/1     Running            "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("          30h\n    \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@centos-1 mainfasts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# kubectl get node --show-labels")]),t._v("\nNAME              STATUS   ROLES    AGE   VERSION   LABELS\ncentos-1.shared   Ready    master   4d    v1.16.3   beta.kubernetes.io/arch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("amd64,beta.kubernetes.io/os"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("linux,kubernetes.io/arch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("amd64,kubernetes.io/hostname"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("centos-1.shared,kubernetes.io/os"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("linux,node-role.kubernetes.io/master"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\ncentos-2.shared   Ready    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("none"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("   4d    v1.16.3   beta.kubernetes.io/arch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("amd64,beta.kubernetes.io/os"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("linux,kubernetes.io/arch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("amd64,kubernetes.io/hostname"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("centos-2.shared,kubernetes.io/os"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("linux,logcollceting"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true,logcollecting"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("on\ncentos-3.shared   Ready    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("none"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("   4d    v1.16.3   beta.kubernetes.io/arch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("amd64,beta.kubernetes.io/os"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("linux,kubernetes.io/arch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("amd64,kubernetes.io/hostname"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("centos-3.shared,kubernetes.io/os"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("linux\n\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("去除标签，你可以使用以下命令")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v(" kubectl label node centos-2.shared logcollceting-\n")])])]),a("h2",{attrs:{id:"_4-知识点补充"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-知识点补充"}},[t._v("#")]),t._v(" 4.知识点补充")]),t._v(" "),a("p",[t._v("节点有污点，会影响调度策略，我在"),a("a",{attrs:{href:"https://aaron1989.github.io/CloudNativeNotes/Kubernetes/23.%E6%B1%A1%E7%82%B9%E5%92%8C%E5%AE%B9%E5%BF%8D%E5%BA%A6/",target:"_blank",rel:"noopener noreferrer"}},[t._v("污点和容忍度"),a("OutboundLink")],1),t._v("章节会详细讲解。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@centos-1 mainfasts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# kubectl describe node centos-1.shared")]),t._v("\nName:               centos-1.shared\nRoles:              master\nLabels:             beta.kubernetes.io/arch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("amd64\n                    beta.kubernetes.io/os"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("linux\n                    kubernetes.io/arch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("amd64\n                    kubernetes.io/hostname"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("centos-1.shared\n                    kubernetes.io/os"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("linux\n                    node-role.kubernetes.io/master"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\nAnnotations:        flannel.alpha.coreos.com/backend-data: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"VtepMAC"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"6a:82:c9:37:15:dd"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                    flannel.alpha.coreos.com/backend-type: vxlan\n                    flannel.alpha.coreos.com/kube-subnet-manager: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n                    flannel.alpha.coreos.com/public-ip: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".0.104\n                    kubeadm.alpha.kubernetes.io/cri-socket: /var/run/dockershim.sock\n                    node.alpha.kubernetes.io/ttl: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n                    volumes.kubernetes.io/controller-managed-attach-detach: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\nCreationTimestamp:  Mon, "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),t._v(" Nov "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2019")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v(":00:45 +0800\nTaints:             node-role.kubernetes.io/master:NoSchedule.          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#污点，pod调度的高级功能，容忍度：不允许调度至master节点")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);